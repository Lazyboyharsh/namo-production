<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Work | Namo Production</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600&family=Oswald:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="Css/style.css">
    
    <style>
        /* --- INTERNAL STYLES --- */
        body { 
            min-height: 100vh; 
            background: #050505; 
            color: white; 
            margin: 0; 
            font-family: 'Montserrat', sans-serif; 
        }
        
        .noise-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 9000; opacity: 0.05;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='1'/%3E%3C/svg%3E");
        }

        .work-header { padding: 150px 5% 50px; text-align: left; }
        .work-title {
            font-size: 6rem; line-height: 0.9; color: transparent;
            -webkit-text-stroke: 2px #fff; opacity: 0.3; margin-bottom: 20px; transition: 0.5s;
            font-family: 'Oswald', sans-serif;
        }
        .work-title:hover { opacity: 1; text-shadow: 0 0 30px rgba(255,255,255,0.2); }

        .filter-container { padding: 0 5% 40px; display: flex; gap: 20px; flex-wrap: wrap; }
        .filter-btn {
            background: transparent; border: 1px solid #333; color: #888;
            padding: 10px 25px; font-family: 'Oswald', sans-serif; text-transform: uppercase;
            letter-spacing: 2px; cursor: pointer; transition: 0.4s;
        }
        .filter-btn:hover, .filter-btn.active {
            border-color: #fff; color: #fff; background: rgba(255, 255, 255, 0.05);
        }

        .gallery-grid {
            display: grid; grid-template-columns: repeat(3, 1fr);
            grid-auto-rows: 300px; gap: 15px; padding: 0 5% 100px;
        }
        
        .project-card {
            position: relative; overflow: hidden; cursor: pointer; background: #111;
            transition: transform 0.3s ease;
        }
        .project-card.wide { grid-column: span 2; }
        .project-card.tall { grid-row: span 2; }

        .project-img {
            width: 100%; height: 100%; object-fit: cover;
            transition: transform 0.8s cubic-bezier(0.19, 1, 0.22, 1);
            filter: grayscale(100%);
        }
        
        video.project-img { object-fit: cover; }

        .project-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(0deg, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0) 60%);
            display: flex; flex-direction: column; justify-content: flex-end;
            padding: 30px; opacity: 0; transition: 0.4s;
        }

        /* Desktop Hover Effects */
        .project-card:hover .project-img { transform: scale(1.1); filter: grayscale(0%); }
        .project-card:hover .project-overlay { opacity: 1; }

        .play-icon {
            position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -50%) scale(0);
            font-size: 3rem; color: #fff;
            transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .project-card:hover .play-icon { transform: translate(-50%, -50%) scale(1); }

        .project-cat {
            color: #ccc; font-size: 0.8rem; text-transform: uppercase;
            letter-spacing: 2px; margin-bottom: 5px;
        }
        .project-title {
            font-size: 1.5rem; font-family: 'Oswald', sans-serif;
            transform: translateY(20px); transition: 0.4s; color: white;
        }
        .project-card:hover .project-title { transform: translateY(0); }

        /* --- VIDEO MODAL --- */
        .video-modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95); z-index: 10000;
            display: flex; justify-content: center; align-items: center;
            opacity: 0; pointer-events: none; transition: 0.3s;
        }
        .video-modal.active { opacity: 1; pointer-events: all; }

        .modal-content { width: 80%; max-width: 1000px; position: relative; }

        .close-modal {
            position: absolute; top: -50px; right: 0; color: #fff;
            font-size: 3rem; cursor: pointer; transition: 0.3s; z-index: 10001;
        }
        .close-modal:hover { color: #ff0000; }

        .video-container {
            position: relative; width: 100%;
            padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
            height: 0; background: #000;
        }
        
        /* --- MOBILE FIXES --- */
        @media (max-width: 768px) {
            .work-title { font-size: 3.5rem; }
            .gallery-grid { grid-template-columns: 1fr; grid-auto-rows: 250px; }
            .project-card.wide, .project-card.tall { grid-column: span 1; grid-row: span 1; }
            
            /* FIX: Make overlay always visible on mobile */
            .project-overlay { opacity: 1; }
            .project-img { filter: grayscale(0%); }
            .play-icon { transform: translate(-50%, -50%) scale(1); }
            .project-title { transform: translateY(0); }
        }
    </style>
</head>
<body>

    <div class="noise-overlay"></div>
    <div id="universal-header"></div> 

    <div class="work-header">
        <h1 class="work-title">SELECTED<br><span style="color:#fff; opacity:1; -webkit-text-stroke:0;">WORKS</span></h1>
    </div>

    <div class="filter-container">
        <button class="filter-btn active" data-filter="all">All Projects</button>
        <button class="filter-btn" data-filter="music">Music Videos</button>
        <button class="filter-btn" data-filter="commercial">Commercials</button>
        <button class="filter-btn" data-filter="docu">Documentaries</button>
        <button class="filter-btn" data-filter="docu">Jainism Visuals</button>
    </div>

    <section class="gallery-grid">
        
        <div class="project-card wide" data-category="music" 
             data-type="local" 
             data-video="Aligning_Reel_with_Website_Theme.mp4">
             
            <video class="project-img" muted loop playsinline poster="poster.jpg">
                <source src="Aligning_Reel_with_Website_Theme.mp4" type="video/mp4">
            </video>

            <div class="project-overlay">
                <i class="fas fa-play-circle play-icon"></i>
                <div class="project-cat">MUSIC VIDEO</div>
                <h3 class="project-title">NEON NIGHTS - PUNE</h3>
            </div>
        </div>

        <div class="project-card" data-category="commercial" 
             data-type="youtube" 
             data-video="https://www.youtube.com/embed/ScMzIvxBSi4">
             
            <img src="https://images.unsplash.com/photo-1598899134739-24c46f58b8c0?q=80&w=2656" class="project-img" alt="Project 2">
            <div class="project-overlay">
                <i class="fas fa-play-circle play-icon"></i>
                <div class="project-cat">COMMERCIAL</div>
                <h3 class="project-title">URBAN SNEAKERS</h3>
            </div>
        </div>

        <div class="project-card tall" data-category="docu"
             data-type="youtube"
             data-video="https://www.youtube.com/embed/ScMzIvxBSi4">
             
            <img src="https://images.unsplash.com/photo-1492691527719-9d1e07e534b4?q=80&w=2671" class="project-img" alt="Project 3">
            <div class="project-overlay">
                <i class="fas fa-play-circle play-icon"></i>
                <div class="project-cat">DOCUMENTARY</div>
                <h3 class="project-title">HIMALAYAN PATH</h3>
            </div>
        </div>

    </section>

    <div class="video-modal" id="videoModal">
        <div class="modal-content">
            <div class="close-modal" id="closeModal">&times;</div>
            <div class="video-container">
                </div>
        </div>
    </div>

    <div id="universal-footer"></div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // 1. FILTER LOGIC
            const filterBtns = document.querySelectorAll('.filter-btn');
            const projects = document.querySelectorAll('.project-card');

            filterBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    filterBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');

                    const filterValue = btn.getAttribute('data-filter');
                    projects.forEach(project => {
                        if (filterValue === 'all' || project.getAttribute('data-category') === filterValue) {
                            project.style.display = 'block';
                            setTimeout(() => project.style.opacity = '1', 100);
                        } else {
                            project.style.display = 'none';
                            project.style.opacity = '0';
                        }
                    });
                });
            });

            // 2. MODAL LOGIC (Auto Play in Popup)
            const modal = document.getElementById('videoModal');
            const closeModal = document.getElementById('closeModal');
            const videoContainer = document.querySelector('.video-container');

            projects.forEach(project => {
                project.addEventListener('click', () => {
                    const videoType = project.getAttribute('data-type');
                    const videoSrc = project.getAttribute('data-video');

                    modal.classList.add('active');
                    videoContainer.innerHTML = ''; 

                    if (videoType === 'local') {
                        // LOCAL: Autoplay ON in popup
                        videoContainer.innerHTML = `
                            <video controls autoplay name="media" style="position:absolute; top:0; left:0; width:100%; height:100%;">
                                <source src="${videoSrc}" type="video/mp4">
                                Your browser does not support the video tag.
                            </video>`;
                    } else {
                        // YOUTUBE: Autoplay ON in popup
                        const url = videoSrc || "https://www.youtube.com/embed/ScMzIvxBSi4";
                        const separator = url.includes('?') ? '&' : '?';
                        const finalUrl = `${url}${separator}autoplay=1`; 

                        videoContainer.innerHTML = `
                            <iframe src="${finalUrl}" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen style="position:absolute; top:0; left:0; width:100%; height:100%; border:none;"></iframe>`;
                    }
                });
            });

            // Close Modal
            const closeVideo = () => {
                modal.classList.remove('active');
                videoContainer.innerHTML = ''; 
            };

            closeModal.addEventListener('click', closeVideo);

            modal.addEventListener('click', (e) => {
                if(e.target === modal) closeVideo();
            });

            // Navbar Scroll
            window.addEventListener('scroll', () => {
                const nav = document.querySelector('nav');
                if(nav) {
                    nav.style.background = window.scrollY > 50 ? 'rgba(5,5,5,0.95)' : 'transparent';
                }
            });

        });
    </script>
    <script src="main.js"></script>
</body>
</html>